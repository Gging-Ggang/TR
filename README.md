# 턴제 전투 게임 (TR Project)

간단하지만 전략적인 메커니즘을 가진 캐릭터들이 대결하는 턴제 전투 시뮬레이터입니다.

## 🚀 실행 방법

### 1. 웹 UI (브라우저 플레이)
- `index.html` 파일을 브라우저로 엽니다. (로컬 실행 시 `python -m http.server` 실행 후 `localhost:8000` 접속)
- 3분할 레이아웃, 2*2 스킬 버튼, 실시간 로그 및 체력/보호막 통합 바가 제공됩니다.

### 2. CLI 대화형 모드
```bash
py main.py --mode interactive --p1_name Amor --p2_name Solis
```

### 3. 시뮬레이션 모드 (밸런스 분석)
```bash
py main.py --mode stats --simulations 1000 --p1_name Cookie --p2_name Solis
```

---

## 🎮 캐릭터 상세 설명

### 1. 쿠키 (흑마도사)
**체력: 70**

**패시브: [천상의 화염]**
- **개전**: 게임 시작 시 [도화선]을 5 획득합니다. [도화선]은 최소 5로 유지됩니다.
- **반복**: 자신의 턴이 시작될 때 1d3(강화 시 1d4)을 굴려 그 값만큼 **[불꽃]**을 얻습니다.
    - **[도화선]** 및 **[역화]** 획득: 얻은 [불꽃]만큼 [도화선] 수치와 [역화] 수치가 증가합니다.
    - **보호막** 획득: `(주사위 최대값 - [불꽃]) * 4` 만큼 지속시간 1턴의 보호막을 얻습니다.
- **피격**: 보호막이 아닌 체력이 닳았을 때 1d3(메테오 영창 시 3 고정)만큼 [도화선]이 감소합니다. 연격 시 횟수만큼 주사위를 굴립니다.

**일반 공격: 마법 화살**
- [불꽃]d6 만큼 피해를 입힙니다.

**액티브 1: 하이 파이쟈 (쿨타임 1턴 + [불꽃])**
- 적에게 **[도화선]d[불꽃]** 만큼의 피해를 주고 [도화선]이 **절반(내림)**으로 감소합니다. (최소 5 유지)
- 쿨타임은 기본 1턴에 사용 시의 **[불꽃]** 수치만큼 추가로 증가합니다.

**액티브 2: 불덩이 작렬 (쿨타임 3턴)**
- 적에게 `(1d3 - 1)`의 공격을 **[도화선]** 횟수만큼 시전합니다.
- `0`의 피해를 준 횟수만큼 **[도화선]** 및 **[역화]** 수치를 얻습니다.

**액티브 3: 마력 각성 (쿨타임 4턴)**
- [방어] 사용 판정을 받으며, 1턴간 **15**만큼의 보호막을 얻습니다.
- 다음 턴 [천상의 화염] 발동 시 주사위가 4면(1d4)으로 변경됩니다.
- 주사위를 두 번 굴려 **높은 값**은 [불꽃]으로, **낮은 값**은 보호막 계산에 사용합니다.

**궁극기: 메테오**
- **사용 조건**: **[역화]** 30 이상.
- **영창 (3턴)**: 3턴 동안 행동할 수 없으며 **패시브 발동이 중단**됩니다. 사용 시 모든 [역화]를 소모하여 동일한 수치의 **[역화 보호막]**(무한 지속, 최우선 소모)을 생성합니다.
- **발동 (4턴째)**: **[도화선] + [남은 역화 보호막]** 의 피해를 주고 상태가 초기화됩니다.

---

### 2. 솔리스 (암살자)
**체력: 90**

**패시브: 곡예**
턴 시작 시 `2d5` 주사위를 굴림.
결괏값이 `6` 미만일 경우 해당 턴의 공격에 **치명타(피해 1.5배)** 적용.
2턴 동안 효과를 얻지 못할 시 모든 스킬의 쿨타임 `-1`.


**액티브 1: 속임수 공격 (3턴)**
`2d4+8` 피해를 입히고 보호막 `4` 획득.
다음 공격(반격 포함) 시 해당 턴의 **[곡예]** 값의 절반+2 만큼 추가 피해를 입히는 표식을 남김.

**액티브 2: 몽환삼단 (4턴)**
`2d3+1` 대미지를 3회 입힌다.
만약 총 대미지의 절반이 `9` 이하라면 해당 스킬의 쿨타임 `-1`.

**액티브 3: 극의 (5턴)**
다음 1턴 간 **[곡예]**의 주사위 값 `-2`.
피격 시 `1d5` 주사위를 굴려 결괏값이 `3` 이하면 피격을 회피하고 `1d4+6` 피해로 즉시 반격 (속임수 공격 표식 적용 가능).

---

### 3. 아모르 (팔라딘)
**체력: 100**

**패시브: 페르소나**
받은 피해를 축적한다.
받은 피해량이 `44` 누적 시, 4턴 동안 **'어둠'** 상태가 되며 모든 기술 쿨타임 초기화 및 스킬이 변경된다.
어둠이 해제되면 **[페르소나]** 스택을 얻는다.

**액티브 1: 자활 / 집념 (2턴)**
- **빛(자활)**: 입힌 피해량의 절반만큼 보호막을 얻으며, 해당 보호막 소모 시 `4`만큼 회복한다.
- **어둠(집념)**: 보호막 대신 강력한 추가 피해를 입힌다.

**액티브 2: 백야 / 흑야 (4턴)**
다음 턴까지 유지되는 보호막을 `8` 획득한다 (중첩 가능).
- **빛(백야)**: 보호막이 유지되는 동안 피격 시, 받은 피해량의 절반+2 만큼 회복한다.
- **어둠(흑야)**: 피격 시, 회복량만큼 적에게 피해를 반사한다.

**액티브 3: 혼돈선 (7턴)**
- **빛**: 3턴간 받는 피해 절반 감소를 얻고 매턴 `3` 회복한다.
- **어둠**: 어둠 상태 동안 받은 피해를 축적하고, 어둠 해제 시 **[축적량의 절반]**만큼 대미지를 방출한다. 생명력이 `20` 이하라면 동일 수치만큼 회복한다.

---

### 4. 캐릭터 A (전사)
**체력: 100**

**액티브 1: 공격 (2턴)**
적에게 `2d10`의 물리 피해를 입힌다.

---

## 📊 공통 규칙
- **방어**: 모든 캐릭터는 0번(방어)을 통해 쿨타임 2턴 동안 보호막 `+8`을 얻을 수 있습니다.
- **대미지 계산**: 대미지는 보호막을 우선 차감하며, 초과분만 체력(HP)에서 깎입니다.
- **승리 조건**: 상대방의 체력을 0으로 먼저 만드는 쪽이 승리합니다.
